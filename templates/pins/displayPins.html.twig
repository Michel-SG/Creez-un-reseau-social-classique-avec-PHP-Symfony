{% extends 'base.html.twig' %}

{% block title %}PinsPage{% endblock %}

{% block body %}


<div class="example-wrapper">
    <h1 class="text-center mt-4 mb-4">Liste les pins ( {{ pluralize(pins|length, 'Pin', 'Pints')}} ) </h1>
    <p class='text-center mb-4'>
        <a  href="{{ path('app_createpin') }}"><button class='btn btn-primary'>Créer un nouveau pin</button></a>
    </p>
   
    {% for pin in pins %}
    <div class='row mb-4' >
        <div class='col-md-6 mx-auto '>
            <div class=" pin card shadow bg-wight ">
                <div class="mr-1 text-center mt-2 pointer" > 
                <img src="{{ asset('uploads/images/' ~ pin.image) }}" alt="{{ pin.title }}">
                </div>
                <div class="card-body w-40 mx-auto text-break">
                    <h5 class="card-title font-weight-bold ">{{ pin.title }}</h5>
                    <p class='card-text '> Posté le {{ pin.createdAt | date('d/m/Y') }} 
                        à {{ pin.createdAt | date('H:i') }} par {{ pin.pins.userName }}</p>
                    <p class="card-text "> {{ pin.content | raw }}</p>
                </div>
                <div class="text-right">
                    <a class="mr-1" href="{{ path('app_onePinShow', {id: pin.id}) }}"><button class='btn btn-primary mb-2'>Voir la description</button></a> 
                </div>   
            </div>
        </div>
    </div>
     {% else %}
        <p>Désolé, aucun pin n'est encore créer !</p>
     {% endfor %}
</div>
{% endblock %}
